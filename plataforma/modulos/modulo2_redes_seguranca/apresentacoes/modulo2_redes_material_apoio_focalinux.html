
        <div class="slide">
            <h2><i class="fas fa-plus-circle"></i> Material de Apoio FOCA Linux - Modulo2 Redes</h2>
            <div class="info-box">
                <strong>üìö Conte√∫do Complementar:</strong> Material adicional extra√≠do do FOCA Linux 
                para enriquecer o aprendizado.
            </div>
        
        <div class="focalinux-content">
            <div class="content-header">
                <h3><i class="fas fa-file-alt"></i> Outras op√ß√µes do iptables</h3>
                <div class="content-meta">
                    <span class="score">Score: 19</span>
                    <span class="comandos">15 comandos</span>
                </div>
            </div>
            
            <div class="content-body">
                <h4>Conceitos Principais:</h4>
                <ul>
        <li>Outras op√ß√µes do iptables</li><li>Especificando um endere√ßo de origem/destino</li><li>Especificando a interface de origem/destino</li><li>Especificando um protocolo</li><li>Especificando fragmentos</li>
                </ul>
                
                <h4>Comandos Relacionados:</h4>
                <div class="comandos-section">
        <code class="comando">iptables-restore &lt;/dir/iptables-regras</code><code class="comando">iptables -t filter -A INPUT ! -s 200.200.200.10 -j DROP</code><code class="comando">+---------------------+--------------------------------+
  TABELA  |      CHAIN          |            INTERFACE           |
          |                     +----------------+---------------+
          |                     |  ENTRADA (-i)  |    SA√çDA (-o) |
+---------+---------------------+----------------+---------------+
|         |  INPUT              |      SIM       |      N√ÉO      |
| filter  |  OUTPUT             |      N√ÉO       |      SIM      |
|         |  FORWARD            |      SIM       |      SIM      |
+---------+---------------------+----------------+---------------+
|         | PREROUTING          |      SIM       |      N√ÉO      |
| nat     | OUTPUT              |      N√ÉO       |      SIM      |
|         | POSTROUTING         |      N√ÉO       |      SIM      |
+---------+---------------------+----------------+---------------+
|         | PREROUTING          |      SIM       |      N√ÉO      |
| mangle  |                     |                |               |
|         | OUTPUT              |      N√ÉO       |      SIM      |
+---------+---------------------+----------------+---------------+</code><code class="comando">iptables -A INPUT -s 200.200.200.1 -f -j DROP</code><code class="comando">nossa m</code><code class="comando"># Bloqueia o tr√°fego vindo da rede 200.200.200.*:
 iptables -A INPUT -s 200.200.200.0/24 -j DROP

# Bloqueia conex√µes com o destino 10.1.2.3:
iptables -A OUTPUT -d 10.1.2.3 -j DROP

# Bloqueia o tr√°fego da m√°quina www.dominio.teste.org a rede 210.21.1.3
# nossa m√°quina possui o endere√ßo 210.21.1.3
iptables -A INPUT -s www.dominio.teste.org -d 210.21.1.3 -j DROP</code><code class="comando">Para registrar o bloqueio de pacotes vindos de 200.200.200.1 pela interface ppp0
iptables -A INPUT -s 200.200.200.1 -i ppp</code><code class="comando">iptables -A INPUT -p tcp ! --syn -s 200.200.200.10 ! -i eth0 -j DROP</code><code class="comando">iptables -A INPUT -s 200.123.123.10 -p icmp --icmp-type time-exceeded -i ppp+ -j DROP</code><code class="comando"># Rejeita pacotes vindos de 200.200.200.1 pela interface ppp0: 
iptables -A INPUT -s 200.200.200.1 -i ppp+ -j REJECT</code>
                </div>
                
                <h4>Conte√∫do Detalhado:</h4>
                <div class="conteudo-detalhado">
        <p>Outras op√ß√µes do iptablesOutras op√ß√µes do iptablesAnterior Cap√≠tulo 10. Firewall iptables Pr√≥ximoGuia Foca Linux &gt; Firewall iptables &gt; Outras op√ß√µes do iptablesOutras op√ß√µes do iptablesEspecificando um endere√ßo de origem/destino As op√ß√µes -s (ou --src/--source)e -d (ou --dst/--destination) servem para especificar endere√ßos de origem e destino respectivamente. √â permitido usar um endere√ßo IP completo (como 192.168.1.1), um hostname (debian), um endere√ßo fqdn (www.debian.org) ou um par rede/...</p>
                </div>
                
                <div class="content-actions">
                    <button class="btn btn-primary" onclick="abrirArquivoOriginal('/Users/imac/LinuxAvan√ßado/focalinux-Avancado-html/ch10s03.html')">
                        <i class="fas fa-external-link-alt"></i> Ver Arquivo Original
                    </button>
                    <button class="btn btn-outline" onclick="copiarComandos()">
                        <i class="fas fa-copy"></i> Copiar Comandos
                    </button>
                </div>
            </div>
        </div>
        
        <div class="focalinux-content">
            <div class="content-header">
                <h3><i class="fas fa-file-alt"></i> Outros m√≥dulos do iptables</h3>
                <div class="content-meta">
                    <span class="score">Score: 19</span>
                    <span class="comandos">15 comandos</span>
                </div>
            </div>
            
            <div class="content-body">
                <h4>Conceitos Principais:</h4>
                <ul>
        <li>Outros m√≥dulos do iptables</li><li>Conferindo de acordo com o estado da conex√£o</li><li>Limitando o n√∫mero de vezes que a regra confere</li><li>Prote√ß√£o contra ping da morte</li><li>Prote√ß√£o contra syn flood</li>
                </ul>
                
                <h4>Comandos Relacionados:</h4>
                <div class="comandos-section">
        <code class="comando">iptables -t filter -A ping-chain -i ppp0 -p icmp --icmp-type echo-reply -m limit --limit 1/s -j RETURN
iptables -t filter -A ping-chain -j DROP</code><code class="comando">iptables -A OUTPUT -m owner --gid-owner 100 -p udp -j DROP</code><code class="comando">Confere com todos os pacotes que tem o TTL maior que 100
iptables -A INPUT -m ttl --ttl-gt 100 -j LOG --log-prefix</code><code class="comando"># Bloqueia a passagem de pacotes multicast de uma rede para outra
iptables -A FORWARD -i eth0 -o eth0 -m pkttype --pkt-type multicast -j DROP 

# Como deve ter notado, √© poss√≠vel fazer a associa√ß√£o com diversas especifica√ß√µes
# de m√≥dulos, bastando apenas especificar uma op√ß√£o "-m" para cada m√≥dulo
# adicional:
# Permite a passagem de pacotes broadcast de uma rede para outra com
# limita√ß√£o de 5/s.
iptables -A FORWARD -i eth0 -o eth0 -m pkttype --pkt-type broadcast -m limit --limit 5/s -j ACCEPT</code><code class="comando">Permite a passagem de pacotes broadcast de uma rede para outra com</code><code class="comando">Somente permite a passagem de pacotes que n</code><code class="comando">iptables -A INPUT -p tcp -i ppp0 -m multiport --destination-port 21,23,25,80,110,113,6667 -j DROP</code><code class="comando">iptables -t filter -A INPUT -m mac --mac-source 00:80:AD:B2:60:0B -j DROP</code><code class="comando">adicional</code><code class="comando">e registra o ocorrido.
iptables -A OUTPUT -m string --string</code>
                </div>
                
                <h4>Conte√∫do Detalhado:</h4>
                <div class="conteudo-detalhado">
        <p>Outros m√≥dulos do iptablesOutros m√≥dulos do iptablesAnterior Cap√≠tulo 10. Firewall iptables Pr√≥ximoGuia Foca Linux &gt; Firewall iptables &gt; Outros m√≥dulos do iptablesOutros m√≥dulos do iptables Os m√≥dulos do iptables s√£o especificados com a op√ß√£o -m m√≥dulo ou --match m√≥dulo e permitem expandir a funcionalidade do firewall atrav√©s de novas confer√™ncias e recursos de filtragem adicionais, como limitar a confer√™ncia de regras do firewall (um m√©todo √∫til de limitar ping floods, syn floods, etc). C...</p>
                </div>
                
                <div class="content-actions">
                    <button class="btn btn-primary" onclick="abrirArquivoOriginal('/Users/imac/LinuxAvan√ßado/focalinux-Avancado-html/ch10s06.html')">
                        <i class="fas fa-external-link-alt"></i> Ver Arquivo Original
                    </button>
                    <button class="btn btn-outline" onclick="copiarComandos()">
                        <i class="fas fa-copy"></i> Copiar Comandos
                    </button>
                </div>
            </div>
        </div>
        
        <div class="focalinux-content">
            <div class="content-header">
                <h3><i class="fas fa-file-alt"></i> Outros m√≥dulos do iptables</h3>
                <div class="content-meta">
                    <span class="score">Score: 19</span>
                    <span class="comandos">15 comandos</span>
                </div>
            </div>
            
            <div class="content-body">
                <h4>Conceitos Principais:</h4>
                <ul>
        <li>Outros m√≥dulos do iptables</li><li>Conferindo de acordo com o estado da conex√£o</li><li>Limitando o n√∫mero de vezes que a regra confere</li><li>Prote√ß√£o contra ping da morte</li><li>Prote√ß√£o contra syn flood</li>
                </ul>
                
                <h4>Comandos Relacionados:</h4>
                <div class="comandos-section">
        <code class="comando">iptables -t filter -A ping-chain -i ppp0 -p icmp --icmp-type echo-reply -m limit --limit 1/s -j RETURN
iptables -t filter -A ping-chain -j DROP</code><code class="comando">iptables -A OUTPUT -m owner --gid-owner 100 -p udp -j DROP</code><code class="comando">Confere com todos os pacotes que tem o TTL maior que 100
iptables -A INPUT -m ttl --ttl-gt 100 -j LOG --log-prefix</code><code class="comando"># Bloqueia a passagem de pacotes multicast de uma rede para outra
iptables -A FORWARD -i eth0 -o eth0 -m pkttype --pkt-type multicast -j DROP 

# Como deve ter notado, √© poss√≠vel fazer a associa√ß√£o com diversas especifica√ß√µes
# de m√≥dulos, bastando apenas especificar uma op√ß√£o "-m" para cada m√≥dulo
# adicional:
# Permite a passagem de pacotes broadcast de uma rede para outra com
# limita√ß√£o de 5/s.
iptables -A FORWARD -i eth0 -o eth0 -m pkttype --pkt-type broadcast -m limit --limit 5/s -j ACCEPT</code><code class="comando">Permite a passagem de pacotes broadcast de uma rede para outra com</code><code class="comando">Somente permite a passagem de pacotes que n</code><code class="comando">iptables -A INPUT -p tcp -i ppp0 -m multiport --destination-port 21,23,25,80,110,113,6667 -j DROP</code><code class="comando">iptables -t filter -A INPUT -m mac --mac-source 00:80:AD:B2:60:0B -j DROP</code><code class="comando">adicional</code><code class="comando">e registra o ocorrido.
iptables -A OUTPUT -m string --string</code>
                </div>
                
                <h4>Conte√∫do Detalhado:</h4>
                <div class="conteudo-detalhado">
        <p>Outros m√≥dulos do iptablesOutros m√≥dulos do iptablesAnterior Cap√≠tulo 5. Firewall iptables Pr√≥ximoGuia Foca - Seguran√ßa &gt; Firewall iptables &gt; Outros m√≥dulos do iptablesOutros m√≥dulos do iptables Os m√≥dulos do iptables s√£o especificados com a op√ß√£o -m m√≥dulo ou --match m√≥dulo e permitem expandir a funcionalidade do firewall atrav√©s de novas confer√™ncias e recursos de filtragem adicionais, como limitar a confer√™ncia de regras do firewall (um m√©todo √∫til de limitar ping floods, syn floods, et...</p>
                </div>
                
                <div class="content-actions">
                    <button class="btn btn-primary" onclick="abrirArquivoOriginal('/Users/imac/LinuxAvan√ßado/focalinux-Seguran√ßa-html/ch05s06.html')">
                        <i class="fas fa-external-link-alt"></i> Ver Arquivo Original
                    </button>
                    <button class="btn btn-outline" onclick="copiarComandos()">
                        <i class="fas fa-copy"></i> Copiar Comandos
                    </button>
                </div>
            </div>
        </div>
        
        <div class="focalinux-content">
            <div class="content-header">
                <h3><i class="fas fa-file-alt"></i> Outras op√ß√µes do iptables</h3>
                <div class="content-meta">
                    <span class="score">Score: 19</span>
                    <span class="comandos">15 comandos</span>
                </div>
            </div>
            
            <div class="content-body">
                <h4>Conceitos Principais:</h4>
                <ul>
        <li>Outras op√ß√µes do iptables</li><li>Especificando um endere√ßo de origem/destino</li><li>Especificando a interface de origem/destino</li><li>Especificando um protocolo</li><li>Especificando fragmentos</li>
                </ul>
                
                <h4>Comandos Relacionados:</h4>
                <div class="comandos-section">
        <code class="comando">iptables-restore &lt;/dir/iptables-regras</code><code class="comando">iptables -t filter -A INPUT ! -s 200.200.200.10 -j DROP</code><code class="comando">+---------------------+--------------------------------+
  TABELA  |      CHAIN          |            INTERFACE           |
          |                     +----------------+---------------+
          |                     |  ENTRADA (-i)  |    SA√çDA (-o) |
+---------+---------------------+----------------+---------------+
|         |  INPUT              |      SIM       |      N√ÉO      |
| filter  |  OUTPUT             |      N√ÉO       |      SIM      |
|         |  FORWARD            |      SIM       |      SIM      |
+---------+---------------------+----------------+---------------+
|         | PREROUTING          |      SIM       |      N√ÉO      |
| nat     | OUTPUT              |      N√ÉO       |      SIM      |
|         | POSTROUTING         |      N√ÉO       |      SIM      |
+---------+---------------------+----------------+---------------+
|         | PREROUTING          |      SIM       |      N√ÉO      |
| mangle  |                     |                |               |
|         | OUTPUT              |      N√ÉO       |      SIM      |
+---------+---------------------+----------------+---------------+</code><code class="comando">iptables -A INPUT -s 200.200.200.1 -f -j DROP</code><code class="comando">nossa m</code><code class="comando"># Bloqueia o tr√°fego vindo da rede 200.200.200.*:
 iptables -A INPUT -s 200.200.200.0/24 -j DROP

# Bloqueia conex√µes com o destino 10.1.2.3:
iptables -A OUTPUT -d 10.1.2.3 -j DROP

# Bloqueia o tr√°fego da m√°quina www.dominio.teste.org a rede 210.21.1.3
# nossa m√°quina possui o endere√ßo 210.21.1.3
iptables -A INPUT -s www.dominio.teste.org -d 210.21.1.3 -j DROP</code><code class="comando">Para registrar o bloqueio de pacotes vindos de 200.200.200.1 pela interface ppp0
iptables -A INPUT -s 200.200.200.1 -i ppp</code><code class="comando">iptables -A INPUT -p tcp ! --syn -s 200.200.200.10 ! -i eth0 -j DROP</code><code class="comando">iptables -A INPUT -s 200.123.123.10 -p icmp --icmp-type time-exceeded -i ppp+ -j DROP</code><code class="comando"># Rejeita pacotes vindos de 200.200.200.1 pela interface ppp0: 
iptables -A INPUT -s 200.200.200.1 -i ppp+ -j REJECT</code>
                </div>
                
                <h4>Conte√∫do Detalhado:</h4>
                <div class="conteudo-detalhado">
        <p>Outras op√ß√µes do iptablesOutras op√ß√µes do iptablesAnterior Cap√≠tulo 5. Firewall iptables Pr√≥ximoGuia Foca - Seguran√ßa &gt; Firewall iptables &gt; Outras op√ß√µes do iptablesOutras op√ß√µes do iptablesEspecificando um endere√ßo de origem/destino As op√ß√µes -s (ou --src/--source)e -d (ou --dst/--destination) servem para especificar endere√ßos de origem e destino respectivamente. √â permitido usar um endere√ßo IP completo (como 192.168.1.1), um hostname (debian), um endere√ßo fqdn (www.debian.org) ou um par ...</p>
                </div>
                
                <div class="content-actions">
                    <button class="btn btn-primary" onclick="abrirArquivoOriginal('/Users/imac/LinuxAvan√ßado/focalinux-Seguran√ßa-html/ch05s03.html')">
                        <i class="fas fa-external-link-alt"></i> Ver Arquivo Original
                    </button>
                    <button class="btn btn-outline" onclick="copiarComandos()">
                        <i class="fas fa-copy"></i> Copiar Comandos
                    </button>
                </div>
            </div>
        </div>
        
        <div class="focalinux-content">
            <div class="content-header">
                <h3><i class="fas fa-file-alt"></i> A tabela nat (Network Address Translation) - fazendo nat</h3>
                <div class="content-meta">
                    <span class="score">Score: 18</span>
                    <span class="comandos">15 comandos</span>
                </div>
            </div>
            
            <div class="content-body">
                <h4>Conceitos Principais:</h4>
                <ul>
        <li>A tabela nat (Network Address Translation) - fazendo nat</li><li>Criando um novo chain na tabela NAT</li><li>Fazendo IP masquerading (para os apressados)</li><li>Fazendo SNAT</li><li>Fazendo DNAT</li>
                </ul>
                
                <h4>Comandos Relacionados:</h4>
                <div class="comandos-section">
        <code class="comando">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -o eth0 -j SNAT --to 200.200.217.40-200.200.217.50:1-1023</code><code class="comando">que tem como destino a interface eth1 para 200.200.217.40</code><code class="comando">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -j MASQUERADE
echo "1" &gt;/proc/sys/net/ipv4/ip_forward</code><code class="comando"># Modifica o endere√ßo IP dos pacotes vindos da m√°quina 192.168.1.2 da rede interna 
# que tem como destino a interface eth1 para 200.200.217.40 (que √© o nosso endere√ßo 
# IP da interface ligada a Internet). 
iptables -t nat -A POSTROUTING -s 192.168.1.2 -o eth1 -j SNAT --to 200.200.217.40</code><code class="comando">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -o eth0 -j SNAT --to 200.200.217.40-200.200.217.50 --to 200.200.217.70-200.200.217.73</code><code class="comando">iptables -t nat -A PREROUTING -i eth0 -s 192.168.1.0/24 -j DNAT --to 200.200.217.40-200.200.217.50</code><code class="comando">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -o ppp0 -j MASQUERADE</code><code class="comando">iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 80 -j REDIRECT --to-port 81</code><code class="comando">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -o eth0 -j SNAT --to 200.200.217.40-200.200.217.50</code><code class="comando">iptables -t nat -N intra-inter</code>
                </div>
                
                <h4>Conte√∫do Detalhado:</h4>
                <div class="conteudo-detalhado">
        <p>A tabela nat (Network Address Translation) - fazendo natA tabela nat (Network Address Translation) - fazendo natAnterior Cap√≠tulo 10. Firewall iptables Pr√≥ximoGuia Foca Linux &gt; Firewall iptables &gt; A tabela nat (Network Address Translation) - fazendo natA tabela nat (Network Address Translation) - fazendo nat A tabela nat serve para controlar a tradu√ß√£o dos endere√ßos que atravessam o c√≥digo de roteamento da m√°quina Linux. Existem 3 chains na tabela nat: PREROUTING, OUTPUT e POSTROUTING (vej...</p>
                </div>
                
                <div class="content-actions">
                    <button class="btn btn-primary" onclick="abrirArquivoOriginal('/Users/imac/LinuxAvan√ßado/focalinux-Avancado-html/ch10s04.html')">
                        <i class="fas fa-external-link-alt"></i> Ver Arquivo Original
                    </button>
                    <button class="btn btn-outline" onclick="copiarComandos()">
                        <i class="fas fa-copy"></i> Copiar Comandos
                    </button>
                </div>
            </div>
        </div>
        
        </div>
        